\hypertarget{stm32f0xx__hal__timebase__rtc__wakeup__template_8c}{}\section{H\+A\+L\+\_\+\+Driver/\+Src/stm32f0xx\+\_\+hal\+\_\+timebase\+\_\+rtc\+\_\+wakeup\+\_\+template.c File Reference}
\label{stm32f0xx__hal__timebase__rtc__wakeup__template_8c}\index{H\+A\+L\+\_\+\+Driver/\+Src/stm32f0xx\+\_\+hal\+\_\+timebase\+\_\+rtc\+\_\+wakeup\+\_\+template.\+c@{H\+A\+L\+\_\+\+Driver/\+Src/stm32f0xx\+\_\+hal\+\_\+timebase\+\_\+rtc\+\_\+wakeup\+\_\+template.\+c}}


H\+AL time base based on the hardware R\+T\+C\+\_\+\+W\+A\+K\+E\+UP Template.  


{\ttfamily \#include \char`\"{}stm32f0xx\+\_\+hal.\+h\char`\"{}}\newline
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define {\bfseries R\+T\+C\+\_\+\+C\+L\+O\+C\+K\+\_\+\+S\+O\+U\+R\+C\+E\+\_\+\+H\+SE}
\item 
\#define {\bfseries R\+T\+C\+\_\+\+A\+S\+Y\+N\+C\+H\+\_\+\+P\+R\+E\+D\+IV}~49U
\item 
\#define {\bfseries R\+T\+C\+\_\+\+S\+Y\+N\+C\+H\+\_\+\+P\+R\+E\+D\+IV}~4U
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{group___h_a_l___time_base___r_t_c___wake_up___template_gab86b9dd0d7b4eacfe38086e1fa4c2312}{R\+T\+C\+\_\+\+I\+R\+Q\+Handler} (void)
\begin{DoxyCompactList}\small\item\em This function handles W\+A\+KE UP T\+I\+M\+ER interrupt request. \end{DoxyCompactList}\item 
\hyperlink{stm32f0xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{H\+A\+L\+\_\+\+Status\+Type\+Def} \hyperlink{group___h_a_l___time_base___r_t_c___wake_up___template_ga879cdb21ef051eb81ec51c18147397d5}{H\+A\+L\+\_\+\+Init\+Tick} (uint32\+\_\+t Tick\+Priority)
\begin{DoxyCompactList}\small\item\em This function configures the R\+T\+C\+\_\+\+W\+K\+UP as a time base source. The time source is configured to have 1ms time base with a dedicated Tick interrupt priority. Wakeup Time base = ((R\+T\+C\+\_\+\+A\+S\+Y\+N\+C\+H\+\_\+\+P\+R\+E\+D\+IV + 1) $\ast$ (R\+T\+C\+\_\+\+S\+Y\+N\+C\+H\+\_\+\+P\+R\+E\+D\+IV + 1)) / R\+T\+C\+\_\+\+C\+L\+O\+CK = 1ms Wakeup Time = Wakeup\+Timebase $\ast$ Wake\+Up\+Counter (0 + 1) = 1 ms. \end{DoxyCompactList}\item 
void \hyperlink{group___h_a_l___time_base___r_t_c___wake_up___template_gaaf651af2afe688a991c657f64f8fa5f9}{H\+A\+L\+\_\+\+Suspend\+Tick} (void)
\begin{DoxyCompactList}\small\item\em Suspend Tick increment. \end{DoxyCompactList}\item 
void \hyperlink{group___h_a_l___time_base___r_t_c___wake_up___template_ga24e0ee9dae1ec0f9d19200f5575ff790}{H\+A\+L\+\_\+\+Resume\+Tick} (void)
\begin{DoxyCompactList}\small\item\em Resume Tick increment. \end{DoxyCompactList}\item 
void \hyperlink{group___h_a_l___time_base___r_t_c___wake_up___template_gac9ed5d6224b5c86f2845a9c1af7d94de}{H\+A\+L\+\_\+\+R\+T\+C\+Ex\+\_\+\+Wake\+Up\+Timer\+Event\+Callback} (\hyperlink{struct_r_t_c___handle_type_def}{R\+T\+C\+\_\+\+Handle\+Type\+Def} $\ast$hrtc)
\begin{DoxyCompactList}\small\item\em Wake Up Timer Event Callback in non blocking mode. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{struct_r_t_c___handle_type_def}{R\+T\+C\+\_\+\+Handle\+Type\+Def} {\bfseries h\+R\+T\+C\+\_\+\+Handle}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
H\+AL time base based on the hardware R\+T\+C\+\_\+\+W\+A\+K\+E\+UP Template. 

\begin{DoxyVersion}{Version}
V1.\+5.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
04-\/\+November-\/2016 This file overrides the native H\+AL time base functions (defined as weak) to use the R\+TC W\+A\+K\+E\+UP for the time base generation\+:
\begin{DoxyItemize}
\item Intializes the R\+TC peripheral and configures the wakeup timer to be incremented each 1ms
\item The wakeup feature is configured to assert an interrupt each 1ms
\item H\+A\+L\+\_\+\+Inc\+Tick is called inside the H\+A\+L\+\_\+\+R\+T\+C\+Ex\+\_\+\+Wake\+Up\+Timer\+Event\+Callback
\item H\+SE (default), L\+SE or L\+SI can be selected as R\+TC clock source \begin{DoxyVerb} ==============================================================================
                       ##### How to use this driver #####
 ==============================================================================
   [..]
   This file must be copied to the application folder and modified as follows:
   (#) Rename it to 'stm32f0xx_hal_timebase_rtc_wakeup.c'
   (#) Add this file and the RTC HAL drivers to your project and uncomment
      HAL_RTC_MODULE_ENABLED define in stm32f0xx_hal_conf.h 

   [..]
   (@) HAL RTC alarm and HAL RTC wakeup drivers canï¿½t be used with low power modes:
       The wake up capability of the RTC may be intrusive in case of prior low power mode
       configuration requiring different wake up sources.
       Application/Example behavior is no more guaranteed 
   (@) The stm32f0xx_hal_timebase_tim use is recommended for the Applications/Examples
         requiring low power modes\end{DoxyVerb}

\end{DoxyItemize}
\end{DoxyDate}
\begin{DoxyAttention}{Attention}

\end{DoxyAttention}
\subsubsection*{\begin{center}\copyright{} C\+O\+P\+Y\+R\+I\+G\+H\+T(c) 2016 S\+T\+Microelectronics\end{center} }

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met\+:
\begin{DoxyEnumerate}
\item Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
\item Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
\item Neither the name of S\+T\+Microelectronics nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.
\end{DoxyEnumerate}

T\+H\+IS S\+O\+F\+T\+W\+A\+RE IS P\+R\+O\+V\+I\+D\+ED BY T\+HE C\+O\+P\+Y\+R\+I\+G\+HT H\+O\+L\+D\+E\+RS A\+ND C\+O\+N\+T\+R\+I\+B\+U\+T\+O\+RS \char`\"{}\+A\+S I\+S\char`\"{} A\+ND A\+NY E\+X\+P\+R\+E\+SS OR I\+M\+P\+L\+I\+ED W\+A\+R\+R\+A\+N\+T\+I\+ES, I\+N\+C\+L\+U\+D\+I\+NG, B\+UT N\+OT L\+I\+M\+I\+T\+ED TO, T\+HE I\+M\+P\+L\+I\+ED W\+A\+R\+R\+A\+N\+T\+I\+ES OF M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+TY A\+ND F\+I\+T\+N\+E\+SS F\+OR A P\+A\+R\+T\+I\+C\+U\+L\+AR P\+U\+R\+P\+O\+SE A\+RE D\+I\+S\+C\+L\+A\+I\+M\+ED. IN NO E\+V\+E\+NT S\+H\+A\+LL T\+HE C\+O\+P\+Y\+R\+I\+G\+HT H\+O\+L\+D\+ER OR C\+O\+N\+T\+R\+I\+B\+U\+T\+O\+RS BE L\+I\+A\+B\+LE F\+OR A\+NY D\+I\+R\+E\+CT, I\+N\+D\+I\+R\+E\+CT, I\+N\+C\+I\+D\+E\+N\+T\+AL, S\+P\+E\+C\+I\+AL, E\+X\+E\+M\+P\+L\+A\+RY, OR C\+O\+N\+S\+E\+Q\+U\+E\+N\+T\+I\+AL D\+A\+M\+A\+G\+ES (I\+N\+C\+L\+U\+D\+I\+NG, B\+UT N\+OT L\+I\+M\+I\+T\+ED TO, P\+R\+O\+C\+U\+R\+E\+M\+E\+NT OF S\+U\+B\+S\+T\+I\+T\+U\+TE G\+O\+O\+DS OR S\+E\+R\+V\+I\+C\+ES; L\+O\+SS OF U\+SE, D\+A\+TA, OR P\+R\+O\+F\+I\+TS; OR B\+U\+S\+I\+N\+E\+SS I\+N\+T\+E\+R\+R\+U\+P\+T\+I\+ON) H\+O\+W\+E\+V\+ER C\+A\+U\+S\+ED A\+ND ON A\+NY T\+H\+E\+O\+RY OF L\+I\+A\+B\+I\+L\+I\+TY, W\+H\+E\+T\+H\+ER IN C\+O\+N\+T\+R\+A\+CT, S\+T\+R\+I\+CT L\+I\+A\+B\+I\+L\+I\+TY, OR T\+O\+RT (I\+N\+C\+L\+U\+D\+I\+NG N\+E\+G\+L\+I\+G\+E\+N\+CE OR O\+T\+H\+E\+R\+W\+I\+SE) A\+R\+I\+S\+I\+NG IN A\+NY W\+AY O\+UT OF T\+HE U\+SE OF T\+H\+IS S\+O\+F\+T\+W\+A\+RE, E\+V\+EN IF A\+D\+V\+I\+S\+ED OF T\+HE P\+O\+S\+S\+I\+B\+I\+L\+I\+TY OF S\+U\+CH D\+A\+M\+A\+GE. 